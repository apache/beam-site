<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Direct Runner</title>
  <meta name="description" content="Apache Beam is an open source, unified model and set of language-specific SDKs for defining and executing data processing workflows, and also data ingestion and integration flows, supporting Enterprise Integration Patterns (EIPs) and Domain Specific Languages (DSLs). Dataflow pipelines simplify the mechanics of large-scale batch and streaming data processing and can run on a number of runtimes like Apache Flink, Apache Spark, and Google Cloud Dataflow (a cloud service). Beam also brings DSL in different languages, allowing users to easily implement their data integration processes.
">

  <link rel="stylesheet" href="/styles/site.css">
  <link rel="stylesheet" href="/css/theme.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
  <script src="/js/bootstrap.min.js"></script>
  <script src="/js/language-switch.js"></script>
  <link rel="canonical" href="http://beam.apache.org/documentation/runners/direct/" data-proofer-ignore>
  <link rel="alternate" type="application/rss+xml" title="Apache Beam" href="http://beam.apache.org/feed.xml">
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-73650088-1', 'auto');
    ga('send', 'pageview');

  </script>
  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico">
</head>


  <body role="document">

    <nav class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <a href="/" class="navbar-brand" >
        <img alt="Brand" style="height: 25px" src="/images/beam_logo_navbar.png">
      </a>
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
		  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Get Started <span class="caret"></span></a>
		  <ul class="dropdown-menu">
			  <li><a href="/get-started/beam-overview/">Beam Overview</a></li>
              <li><a href="/get-started/quickstart/">Quickstart</a></li>
			  <li role="separator" class="divider"></li>
			  <li class="dropdown-header">Example Walkthroughs</li>
			  <li><a href="/get-started/wordcount-example/">WordCount</a></li>
			  <li><a href="/get-started/mobile-gaming-example/">Mobile Gaming</a></li>
              <li role="separator" class="divider"></li>
              <li class="dropdown-header">Resources</li>
              <li><a href="/get-started/downloads">Downloads</a></li>
              <li><a href="/get-started/support">Support</a></li>
		  </ul>
	    </li>
        <li class="dropdown">
		  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Documentation <span class="caret"></span></a>
		  <ul class="dropdown-menu">
			  <li><a href="/documentation">Using the Documentation</a></li>
			  <li role="separator" class="divider"></li>
			  <li class="dropdown-header">Beam Concepts</li>
			  <li><a href="/documentation/programming-guide/">Programming Guide</a></li>
			  <li><a href="/documentation/resources/">Additional Resources</a></li>
			  <li role="separator" class="divider"></li>
              <li class="dropdown-header">Pipeline Fundamentals</li>
              <li><a href="/documentation/pipelines/design-your-pipeline/">Design Your Pipeline</a></li>
              <li><a href="/documentation/pipelines/create-your-pipeline/">Create Your Pipeline</a></li>
              <li><a href="/documentation/pipelines/test-your-pipeline/">Test Your Pipeline</a></li>
              <li role="separator" class="divider"></li>
			  <li class="dropdown-header">SDKs</li>
			  <li><a href="/documentation/sdks/java/">Java SDK</a></li>
			  <li><a href="/documentation/sdks/javadoc/0.3.0-incubating/" target="_blank">Java SDK API Reference <img src="/images/external-link-icon.png"
                 width="14" height="14"
                 alt="External link."></a>
        </li>
        <li><a href="/documentation/sdks/python/">Python SDK</a></li>
			  <li role="separator" class="divider"></li>
			  <li class="dropdown-header">Runners</li>
			  <li><a href="/documentation/runners/capability-matrix/">Capability Matrix</a></li>
			  <li><a href="/documentation/runners/direct/">Direct Runner</a></li>
			  <li><a href="/documentation/runners/apex/">Apache Apex Runner</a></li>
			  <li><a href="/documentation/runners/flink/">Apache Flink Runner</a></li>
			  <li><a href="/documentation/runners/spark/">Apache Spark Runner</a></li>
			  <li><a href="/documentation/runners/dataflow/">Cloud Dataflow Runner</a></li>
		  </ul>
	    </li>
        <li class="dropdown">
		  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Contribute <span class="caret"></span></a>
		  <ul class="dropdown-menu">
			  <li><a href="/contribute">Get Started Contributing</a></li>
        <li role="separator" class="divider"></li>
        <li class="dropdown-header">Guides</li>
			  <li><a href="/contribute/contribution-guide/">Contribution Guide</a></li>
        <li><a href="/contribute/testing/">Testing Guide</a></li>
        <li><a href="/contribute/release-guide/">Release Guide</a></li>
        <li role="separator" class="divider"></li>
        <li class="dropdown-header">Technical References</li>
        <li><a href="/contribute/design-principles/">Design Principles</a></li>
			  <li><a href="/contribute/work-in-progress/">Ongoing Projects</a></li>
        <li><a href="/contribute/source-repository/">Source Repository</a></li>
        <li role="separator" class="divider"></li>
			  <li class="dropdown-header">Promotion</li>
        <li><a href="/contribute/presentation-materials/">Presentation Materials</a></li>
        <li><a href="/contribute/logos/">Logos and Design</a></li>
        <li role="separator" class="divider"></li>
        <li><a href="/contribute/maturity-model/">Maturity Model</a></li>
        <li><a href="/contribute/team/">Team</a></li>
		  </ul>
	    </li>

        <li><a href="/blog">Blog</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><img src="https://www.apache.org/foundation/press/kit/feather_small.png" alt="Apache Logo" style="height:24px;">Apache Software Foundation<span class="caret"></span></a>
          <ul class="dropdown-menu dropdown-menu-right">
            <li><a href="http://www.apache.org/">ASF Homepage</a></li>
            <li><a href="http://www.apache.org/licenses/">License</a></li>
            <li><a href="http://www.apache.org/security/">Security</a></li>
            <li><a href="http://www.apache.org/foundation/thanks.html">Thanks</a></li>
            <li><a href="http://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
            <li><a href="https://www.apache.org/foundation/policies/conduct">Code of Conduct</a></li>
          </ul>
        </li>
      </ul>
    </div><!--/.nav-collapse -->
  </div>
</nav>


<link rel="stylesheet" href="">


    <div class="container" role="main">

      <div class="row">
        <h1 id="using-the-direct-runner">Using the Direct Runner</h1>

<p>The Direct Runner executes pipelines on your machine and is designed to validate that pipelines adhere to the Apache Beam model as closely as possible. Instead of focusing on efficient pipeline execution, the Direct Runner performs additional checks to ensure that users do not rely on semantics that are not guaranteed by the model. Some of these checks include:</p>

<ul>
  <li>enforcing immutability of elements</li>
  <li>enforcing encodability of elements</li>
  <li>elements are processed in an arbitrary order at all points</li>
  <li>serialization of user functions (<code class="highlighter-rouge">DoFn</code>, <code class="highlighter-rouge">CombineFn</code>, etc.)</li>
</ul>

<p>Using the Direct Runner for testing and development helps ensure that pipelines are robust across different Beam runners. In addition, debugging failed runs can be a non-trivial task when a pipeline executes on a remote cluster. Instead, it is often faster and simpler to perform local unit testing on your pipeline code. Unit testing your pipeline locally also allows you to use your preferred local debugging tools.</p>

<p>Here are some resources with information about how to test your pipelines.</p>
<ul>
  <li><a href="/blog/2016/10/20/test-stream.html">Testing Unbounded Pipelines in Apache Beam</a> talks about the use of Java classes <a href="/documentation/sdks/javadoc/0.3.0-incubating/index.html?org/apache/beam/sdk/testing/PAssert.html"><code class="highlighter-rouge">PAssert</code></a> and <a href="/documentation/sdks/javadoc/0.3.0-incubating/index.html?org/apache/beam/sdk/testing/TestStream.html"><code class="highlighter-rouge">TestStream</code></a> to test your pipelines.</li>
  <li>The <a href="/get-started/wordcount-example/">Apache Beam WordCount Example</a> contains an example of logging and testing a pipeline with <a href="/documentation/sdks/javadoc/0.3.0-incubating/index.html?org/apache/beam/sdk/testing/PAssert.html"><code class="highlighter-rouge">PAssert</code></a>.</li>
</ul>

<h2 id="direct-runner-prerequisites-and-setup">Direct Runner prerequisites and setup</h2>

<p>You must specify your dependency on the Direct Runner.</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="o">&lt;</span><span class="n">dependency</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">groupId</span><span class="o">&gt;</span><span class="n">org</span><span class="o">.</span><span class="na">apache</span><span class="o">.</span><span class="na">beam</span><span class="o">&lt;/</span><span class="n">groupId</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">artifactId</span><span class="o">&gt;</span><span class="n">beam</span><span class="o">-</span><span class="n">runners</span><span class="o">-</span><span class="n">direct</span><span class="o">-</span><span class="n">java</span><span class="o">&lt;/</span><span class="n">artifactId</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">version</span><span class="o">&gt;</span><span class="mf">0.3</span><span class="o">.</span><span class="mi">0</span><span class="o">-</span><span class="n">incubating</span><span class="o">&lt;/</span><span class="n">version</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">scope</span><span class="o">&gt;</span><span class="n">runtime</span><span class="o">&lt;/</span><span class="n">scope</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">dependency</span><span class="o">&gt;</span>
</code></pre>
</div>

<h2 id="pipeline-options-for-the-direct-runner">Pipeline options for the Direct Runner</h2>

<p>When executing your pipeline from the command-line, set <code class="highlighter-rouge">runner</code> to <code class="highlighter-rouge">direct</code>. The default values for the other pipeline options are generally sufficient.</p>

<p>See the reference documentation for the  <span class="language-java"><a href="/documentation/sdks/javadoc/0.3.0-incubating/index.html?org/apache/beam/runners/direct/DirectOptions.html"><code class="highlighter-rouge">DirectOptions</code></a></span><span class="language-python"><a href="https://github.com/apache/beam/blob/python-sdk/sdks/python/apache_beam/utils/pipeline_options.py"><code class="highlighter-rouge">PipelineOptions</code></a></span> interface (and its subinterfaces) for defaults and the complete list of pipeline configuration options.</p>

<h2 id="additional-information-and-caveats">Additional information and caveats</h2>

<p>Local execution is limited by the memory available in your local environment. It is highly recommended that you run your pipeline with data sets small enough to fit in local memory. You can create a small in-memory data set using a <span class="language-java"><a href="/documentation/sdks/javadoc/0.3.0-incubating/index.html?org/apache/beam/sdk/transforms/Create.html"><code class="highlighter-rouge">Create</code></a></span><span class="language-python"><a href="https://github.com/apache/beam/blob/python-sdk/sdks/python/apache_beam/transforms/core.py"><code class="highlighter-rouge">Create</code></a></span> transform, or you can use a <span class="language-java"><a href="/documentation/sdks/javadoc/0.3.0-incubating/index.html?org/apache/beam/sdk/io/Read.html"><code class="highlighter-rouge">Read</code></a></span><span class="language-python"><a href="https://github.com/apache/beam/blob/python-sdk/sdks/python/apache_beam/io/iobase.py"><code class="highlighter-rouge">Read</code></a></span> transform to work with small local or remote files.</p>


      </div>


    <hr>
  <div class="row">
      <div class="col-xs-12">
          <footer>
              <p class="text-center">&copy; Copyright 2016
                <a href="http://www.apache.org">The Apache Software Foundation.</a> All Rights Reserved.</p>
                <p class="text-center"><a href="/privacy_policy">Privacy Policy</a> |
                <a href="/feed.xml">RSS Feed</a></p>
          </footer>
      </div>
  </div>
  <!-- container div end -->
</div>


  </body>

</html>
