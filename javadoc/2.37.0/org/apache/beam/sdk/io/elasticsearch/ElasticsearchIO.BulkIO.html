<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>ElasticsearchIO.BulkIO (Apache Beam 2.37.0-SNAPSHOT)</title>
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ElasticsearchIO.BulkIO (Apache Beam 2.37.0-SNAPSHOT)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BoundedElasticsearchSource.html" title="class in org.apache.beam.sdk.io.elasticsearch"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.ConnectionConfiguration.html" title="class in org.apache.beam.sdk.io.elasticsearch"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" target="_top">Frames</a></li>
<li><a href="ElasticsearchIO.BulkIO.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.org.apache.beam.sdk.transforms.PTransform">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.beam.sdk.io.elasticsearch</div>
<h2 title="Class ElasticsearchIO.BulkIO" class="title">Class ElasticsearchIO.BulkIO</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../org/apache/beam/sdk/transforms/PTransform.html" title="class in org.apache.beam.sdk.transforms">org.apache.beam.sdk.transforms.PTransform</a>&lt;<a href="../../../../../../org/apache/beam/sdk/values/PCollection.html" title="class in org.apache.beam.sdk.values">PCollection</a>&lt;<a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.Document.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.Document</a>&gt;,<a href="../../../../../../org/apache/beam/sdk/values/PCollectionTuple.html" title="class in org.apache.beam.sdk.values">PCollectionTuple</a>&gt;</li>
<li>
<ul class="inheritance">
<li>org.apache.beam.sdk.io.elasticsearch.ElasticsearchIO.BulkIO</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.io.Serializable, <a href="../../../../../../org/apache/beam/sdk/transforms/display/HasDisplayData.html" title="interface in org.apache.beam.sdk.transforms.display">HasDisplayData</a></dd>
</dl>
<dl>
<dt>Enclosing class:</dt>
<dd><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO</a></dd>
</dl>
<hr>
<br>
<pre>public abstract static class <span class="typeNameLabel">ElasticsearchIO.BulkIO</span>
extends <a href="../../../../../../org/apache/beam/sdk/transforms/PTransform.html" title="class in org.apache.beam.sdk.transforms">PTransform</a>&lt;<a href="../../../../../../org/apache/beam/sdk/values/PCollection.html" title="class in org.apache.beam.sdk.values">PCollection</a>&lt;<a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.Document.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.Document</a>&gt;,<a href="../../../../../../org/apache/beam/sdk/values/PCollectionTuple.html" title="class in org.apache.beam.sdk.values">PCollectionTuple</a>&gt;</pre>
<div class="block">A <a href="../../../../../../org/apache/beam/sdk/transforms/PTransform.html" title="class in org.apache.beam.sdk.transforms"><code>PTransform</code></a> writing Bulk API entities created by <a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.DocToBulk.html" title="class in org.apache.beam.sdk.io.elasticsearch"><code>ElasticsearchIO.DocToBulk</code></a> to
 an Elasticsearch cluster. Typically, using <a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.Write.html" title="class in org.apache.beam.sdk.io.elasticsearch"><code>ElasticsearchIO.Write</code></a> is preferred, whereas
 using <a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.DocToBulk.html" title="class in org.apache.beam.sdk.io.elasticsearch"><code>ElasticsearchIO.DocToBulk</code></a> and BulkIO separately is for advanced use cases such as
 mirroring data to multiple clusters or data lakes without recomputation.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../serialized-form.html#org.apache.beam.sdk.io.elasticsearch.ElasticsearchIO.BulkIO">Serialized Form</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.beam.sdk.transforms.PTransform">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.beam.sdk.transforms.<a href="../../../../../../org/apache/beam/sdk/transforms/PTransform.html" title="class in org.apache.beam.sdk.transforms">PTransform</a></h3>
<code><a href="../../../../../../org/apache/beam/sdk/transforms/PTransform.html#name">name</a>, <a href="../../../../../../org/apache/beam/sdk/transforms/PTransform.html#resourceHints">resourceHints</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html#BulkIO--">BulkIO</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/beam/sdk/values/PCollectionTuple.html" title="class in org.apache.beam.sdk.values">PCollectionTuple</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html#expand-org.apache.beam.sdk.values.PCollection-">expand</a></span>(<a href="../../../../../../org/apache/beam/sdk/values/PCollection.html" title="class in org.apache.beam.sdk.values">PCollection</a>&lt;<a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.Document.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.Document</a>&gt;&nbsp;input)</code>
<div class="block">Override this method to specify how this <code>PTransform</code> should be expanded on the given
 <code>InputT</code>.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.BulkIO</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html#withAllowableResponseErrors-java.util.Set-">withAllowableResponseErrors</a></span>(<a href="https://static.javadoc.io/org.checkerframework/checker-qual/3.10.0/org/checkerframework/checker/nullness/qual/Nullable.html?is-external=true" title="class or interface in org.checkerframework.checker.nullness.qual">@Nullable</a> java.util.Set&lt;java.lang.String&gt;&nbsp;allowableResponseErrorTypes)</code>
<div class="block">Provide a set of textual error types which can be contained in Bulk API response
 items[].error.type field.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.BulkIO</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html#withConnectionConfiguration-org.apache.beam.sdk.io.elasticsearch.ElasticsearchIO.ConnectionConfiguration-">withConnectionConfiguration</a></span>(<a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.ConnectionConfiguration.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.ConnectionConfiguration</a>&nbsp;connectionConfiguration)</code>
<div class="block">Provide the Elasticsearch connection configuration object.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.BulkIO</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html#withIgnoreVersionConflicts-boolean-">withIgnoreVersionConflicts</a></span>(boolean&nbsp;ignoreVersionConflicts)</code>
<div class="block">Whether or not to suppress version conflict errors in a Bulk API response.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.BulkIO</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html#withMaxBatchSize-long-">withMaxBatchSize</a></span>(long&nbsp;batchSize)</code>
<div class="block">Provide a maximum size in number of documents for the batch see bulk API
 (https://www.elastic.co/guide/en/elasticsearch/reference/2.4/docs-bulk.html).</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.BulkIO</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html#withMaxBatchSizeBytes-long-">withMaxBatchSizeBytes</a></span>(long&nbsp;batchSizeBytes)</code>
<div class="block">Provide a maximum size in bytes for the batch see bulk API
 (https://www.elastic.co/guide/en/elasticsearch/reference/2.4/docs-bulk.html).</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.BulkIO</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html#withMaxBufferingDuration-org.joda.time.Duration-">withMaxBufferingDuration</a></span>(<a href="https://static.javadoc.io/joda-time/joda-time/2.10.10/org/joda/time/Duration.html?is-external=true" title="class or interface in org.joda.time">Duration</a>&nbsp;maxBufferingDuration)</code>
<div class="block">If using <a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html#withUseStatefulBatches-boolean-"><code>withUseStatefulBatches(boolean)</code></a>, this can be used to set a maximum elapsed
 time before buffered elements are emitted to Elasticsearch as a Bulk API request.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.BulkIO</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html#withMaxParallelRequestsPerWindow-int-">withMaxParallelRequestsPerWindow</a></span>(int&nbsp;maxParallelRequestsPerWindow)</code>
<div class="block">When using <a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html#withUseStatefulBatches-boolean-"><code>withUseStatefulBatches(boolean)</code></a> Stateful Processing, states and therefore
 batches are maintained per-key-per-window.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.BulkIO</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html#withRetryConfiguration-org.apache.beam.sdk.io.elasticsearch.ElasticsearchIO.RetryConfiguration-">withRetryConfiguration</a></span>(<a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.RetryConfiguration.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.RetryConfiguration</a>&nbsp;retryConfiguration)</code>
<div class="block">Provides configuration to retry a failed batch call to Elasticsearch.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.BulkIO</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html#withThrowWriteErrors-boolean-">withThrowWriteErrors</a></span>(boolean&nbsp;throwWriteErrors)</code>
<div class="block">Whether to throw runtime exceptions when write (IO) errors occur.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.BulkIO</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html#withUseStatefulBatches-boolean-">withUseStatefulBatches</a></span>(boolean&nbsp;useStatefulBatches)</code>
<div class="block">Whether or not to use Stateful Processing to ensure bulk requests have the desired number of
 entities i.e.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.beam.sdk.transforms.PTransform">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.beam.sdk.transforms.<a href="../../../../../../org/apache/beam/sdk/transforms/PTransform.html" title="class in org.apache.beam.sdk.transforms">PTransform</a></h3>
<code><a href="../../../../../../org/apache/beam/sdk/transforms/PTransform.html#compose-org.apache.beam.sdk.transforms.SerializableFunction-">compose</a>, <a href="../../../../../../org/apache/beam/sdk/transforms/PTransform.html#compose-java.lang.String-org.apache.beam.sdk.transforms.SerializableFunction-">compose</a>, <a href="../../../../../../org/apache/beam/sdk/transforms/PTransform.html#getAdditionalInputs--">getAdditionalInputs</a>, <a href="../../../../../../org/apache/beam/sdk/transforms/PTransform.html#getDefaultOutputCoder--">getDefaultOutputCoder</a>, <a href="../../../../../../org/apache/beam/sdk/transforms/PTransform.html#getDefaultOutputCoder-InputT-">getDefaultOutputCoder</a>, <a href="../../../../../../org/apache/beam/sdk/transforms/PTransform.html#getDefaultOutputCoder-InputT-org.apache.beam.sdk.values.PCollection-">getDefaultOutputCoder</a>, <a href="../../../../../../org/apache/beam/sdk/transforms/PTransform.html#getKindString--">getKindString</a>, <a href="../../../../../../org/apache/beam/sdk/transforms/PTransform.html#getName--">getName</a>, <a href="../../../../../../org/apache/beam/sdk/transforms/PTransform.html#getResourceHints--">getResourceHints</a>, <a href="../../../../../../org/apache/beam/sdk/transforms/PTransform.html#populateDisplayData-org.apache.beam.sdk.transforms.display.DisplayData.Builder-">populateDisplayData</a>, <a href="../../../../../../org/apache/beam/sdk/transforms/PTransform.html#setResourceHints-org.apache.beam.sdk.transforms.resourcehints.ResourceHints-">setResourceHints</a>, <a href="../../../../../../org/apache/beam/sdk/transforms/PTransform.html#toString--">toString</a>, <a href="../../../../../../org/apache/beam/sdk/transforms/PTransform.html#validate-org.apache.beam.sdk.options.PipelineOptions-">validate</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BulkIO--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BulkIO</h4>
<pre>public&nbsp;BulkIO()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="withConnectionConfiguration-org.apache.beam.sdk.io.elasticsearch.ElasticsearchIO.ConnectionConfiguration-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withConnectionConfiguration</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.BulkIO</a>&nbsp;withConnectionConfiguration(<a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.ConnectionConfiguration.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.ConnectionConfiguration</a>&nbsp;connectionConfiguration)</pre>
<div class="block">Provide the Elasticsearch connection configuration object.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>connectionConfiguration</code> - the Elasticsearch <a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.ConnectionConfiguration.html" title="class in org.apache.beam.sdk.io.elasticsearch"><code>ElasticsearchIO.ConnectionConfiguration</code></a> object</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch"><code>ElasticsearchIO.BulkIO</code></a> with connection configuration set</dd>
</dl>
</li>
</ul>
<a name="withMaxBatchSize-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withMaxBatchSize</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.BulkIO</a>&nbsp;withMaxBatchSize(long&nbsp;batchSize)</pre>
<div class="block">Provide a maximum size in number of documents for the batch see bulk API
 (https://www.elastic.co/guide/en/elasticsearch/reference/2.4/docs-bulk.html). Default is 1000
 docs (like Elasticsearch bulk size advice). See
 https://www.elastic.co/guide/en/elasticsearch/guide/current/bulk.html Depending on the
 execution engine, size of bundles may vary, this sets the maximum size. Change this if you
 need to have smaller ElasticSearch bulks.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>batchSize</code> - maximum batch size in number of documents</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch"><code>ElasticsearchIO.BulkIO</code></a> with connection batch size set</dd>
</dl>
</li>
</ul>
<a name="withMaxBatchSizeBytes-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withMaxBatchSizeBytes</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.BulkIO</a>&nbsp;withMaxBatchSizeBytes(long&nbsp;batchSizeBytes)</pre>
<div class="block">Provide a maximum size in bytes for the batch see bulk API
 (https://www.elastic.co/guide/en/elasticsearch/reference/2.4/docs-bulk.html). Default is 5MB
 (like Elasticsearch bulk size advice). See
 https://www.elastic.co/guide/en/elasticsearch/guide/current/bulk.html Depending on the
 execution engine, size of bundles may vary, this sets the maximum size. Change this if you
 need to have smaller ElasticSearch bulks.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>batchSizeBytes</code> - maximum batch size in bytes</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch"><code>ElasticsearchIO.BulkIO</code></a> with connection batch size in bytes set</dd>
</dl>
</li>
</ul>
<a name="withRetryConfiguration-org.apache.beam.sdk.io.elasticsearch.ElasticsearchIO.RetryConfiguration-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withRetryConfiguration</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.BulkIO</a>&nbsp;withRetryConfiguration(<a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.RetryConfiguration.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.RetryConfiguration</a>&nbsp;retryConfiguration)</pre>
<div class="block">Provides configuration to retry a failed batch call to Elasticsearch. A batch is considered
 as failed if the underlying <code>RestClient</code> surfaces 429 HTTP status code as error for one
 or more of the items in the <code>Response</code>. Users should consider that retrying might
 compound the underlying problem which caused the initial failure. Users should also be aware
 that once retrying is exhausted the error is surfaced to the runner which <em>may</em> then
 opt to retry the current bundle in entirety or abort if the max number of retries of the
 runner is completed. Retrying uses an exponential backoff algorithm, with minimum backoff of
 5 seconds and then surfacing the error once the maximum number of retries or maximum
 configuration duration is exceeded.

 <p>Example use:

 <pre><code>
 ElasticsearchIO.write()
   .withRetryConfiguration(ElasticsearchIO.RetryConfiguration.create(10, Duration.standardMinutes(3))
   ...
 </code></pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>retryConfiguration</code> - the rules which govern the retry behavior</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch"><code>ElasticsearchIO.BulkIO</code></a> with retrying configured</dd>
</dl>
</li>
</ul>
<a name="withIgnoreVersionConflicts-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withIgnoreVersionConflicts</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.BulkIO</a>&nbsp;withIgnoreVersionConflicts(boolean&nbsp;ignoreVersionConflicts)</pre>
<div class="block">Whether or not to suppress version conflict errors in a Bulk API response. This can be useful
 if your use case involves using external version types.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ignoreVersionConflicts</code> - true to suppress version conflicts, false to surface version
     conflict errors.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch"><code>ElasticsearchIO.BulkIO</code></a> with version conflict handling configured</dd>
</dl>
</li>
</ul>
<a name="withAllowableResponseErrors-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withAllowableResponseErrors</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.BulkIO</a>&nbsp;withAllowableResponseErrors(<a href="https://static.javadoc.io/org.checkerframework/checker-qual/3.10.0/org/checkerframework/checker/nullness/qual/Nullable.html?is-external=true" title="class or interface in org.checkerframework.checker.nullness.qual">@Nullable</a> java.util.Set&lt;java.lang.String&gt;&nbsp;allowableResponseErrorTypes)</pre>
<div class="block">Provide a set of textual error types which can be contained in Bulk API response
 items[].error.type field. Any element in @param allowableResponseErrorTypes will suppress
 errors of the same type in Bulk responses.

 <p>See also
 https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html#bulk-failures-ex</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>allowableResponseErrorTypes</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch"><code>ElasticsearchIO.BulkIO</code></a> with allowable response errors set</dd>
</dl>
</li>
</ul>
<a name="withMaxBufferingDuration-org.joda.time.Duration-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withMaxBufferingDuration</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.BulkIO</a>&nbsp;withMaxBufferingDuration(<a href="https://static.javadoc.io/joda-time/joda-time/2.10.10/org/joda/time/Duration.html?is-external=true" title="class or interface in org.joda.time">Duration</a>&nbsp;maxBufferingDuration)</pre>
<div class="block">If using <a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html#withUseStatefulBatches-boolean-"><code>withUseStatefulBatches(boolean)</code></a>, this can be used to set a maximum elapsed
 time before buffered elements are emitted to Elasticsearch as a Bulk API request. If this
 config is not set, Bulk requests will not be issued until <a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html#getMaxBatchSize--"><code>getMaxBatchSize()</code></a>
 number of documents have been buffered. This may result in higher latency in particular if
 your max batch size is set to a large value and your pipeline input is low volume.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>maxBufferingDuration</code> - the maximum duration to wait before sending any buffered
     documents to Elasticsearch, regardless of maxBatchSize.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch"><code>ElasticsearchIO.BulkIO</code></a> with maximum buffering duration set</dd>
</dl>
</li>
</ul>
<a name="withUseStatefulBatches-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withUseStatefulBatches</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.BulkIO</a>&nbsp;withUseStatefulBatches(boolean&nbsp;useStatefulBatches)</pre>
<div class="block">Whether or not to use Stateful Processing to ensure bulk requests have the desired number of
 entities i.e. as close to the maxBatchSize as possible. By default without this feature
 enabled, Bulk requests will not contain more than maxBatchSize entities, but the lower bound
 of batch size is determined by Beam Runner bundle sizes, which may be as few as 1.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>useStatefulBatches</code> - true enables the use of Stateful Processing to ensure that batches
     are as close to the maxBatchSize as possible.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch"><code>ElasticsearchIO.BulkIO</code></a> with Stateful Processing enabled or disabled</dd>
</dl>
</li>
</ul>
<a name="withMaxParallelRequestsPerWindow-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withMaxParallelRequestsPerWindow</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.BulkIO</a>&nbsp;withMaxParallelRequestsPerWindow(int&nbsp;maxParallelRequestsPerWindow)</pre>
<div class="block">When using <a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html#withUseStatefulBatches-boolean-"><code>withUseStatefulBatches(boolean)</code></a> Stateful Processing, states and therefore
 batches are maintained per-key-per-window. BE AWARE that low values for @param
 maxParallelRequestsPerWindow, in particular if the input data has a finite number of windows,
 can reduce parallelism greatly. If data is globally windowed and @param
 maxParallelRequestsPerWindow is set to 1,there will only ever be 1 request in flight. Having
 only a single request in flight can be beneficial for ensuring an Elasticsearch cluster is
 not overwhelmed by parallel requests,but may not work for all use cases. If this number is
 less than the number of maximum workers in your pipeline, the IO work will result in a
 sub-distribution of the last write step with most of the runners.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>maxParallelRequestsPerWindow</code> - the maximum number of parallel bulk requests for a window
     of data</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch"><code>ElasticsearchIO.BulkIO</code></a> with maximum parallel bulk requests per window set</dd>
</dl>
</li>
</ul>
<a name="withThrowWriteErrors-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withThrowWriteErrors</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.BulkIO</a>&nbsp;withThrowWriteErrors(boolean&nbsp;throwWriteErrors)</pre>
<div class="block">Whether to throw runtime exceptions when write (IO) errors occur. Especially useful in
 streaming pipelines where non-transient IO failures will cause infinite retries. If true, a
 runtime error will be thrown for any error found by <a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.html#createWriteReport-org.apache.http.HttpEntity-java.util.Set-boolean-"><code>ElasticsearchIO.createWriteReport(org.apache.http.HttpEntity, java.util.Set&lt;java.lang.String&gt;, boolean)</code></a>. If false, a <a href="../../../../../../org/apache/beam/sdk/values/PCollectionTuple.html" title="class in org.apache.beam.sdk.values"><code>PCollectionTuple</code></a> will be returned
 with tags <a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.Write.html#SUCCESSFUL_WRITES"><code>ElasticsearchIO.Write.SUCCESSFUL_WRITES</code></a> and <a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.Write.html#FAILED_WRITES"><code>ElasticsearchIO.Write.FAILED_WRITES</code></a>, each being a
 <a href="../../../../../../org/apache/beam/sdk/values/PCollection.html" title="class in org.apache.beam.sdk.values"><code>PCollection</code></a> of <a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.Document.html" title="class in org.apache.beam.sdk.io.elasticsearch"><code>ElasticsearchIO.Document</code></a> representing documents which were written to
 Elasticsearch without errors and those which failed to write due to errors, respectively.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>throwWriteErrors</code> - whether to surface write errors as runtime exceptions or return them
     in a <a href="../../../../../../org/apache/beam/sdk/values/PCollection.html" title="class in org.apache.beam.sdk.values"><code>PCollection</code></a></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" title="class in org.apache.beam.sdk.io.elasticsearch"><code>ElasticsearchIO.BulkIO</code></a> with write error treatment configured</dd>
</dl>
</li>
</ul>
<a name="expand-org.apache.beam.sdk.values.PCollection-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>expand</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/beam/sdk/values/PCollectionTuple.html" title="class in org.apache.beam.sdk.values">PCollectionTuple</a>&nbsp;expand(<a href="../../../../../../org/apache/beam/sdk/values/PCollection.html" title="class in org.apache.beam.sdk.values">PCollection</a>&lt;<a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.Document.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.Document</a>&gt;&nbsp;input)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../../org/apache/beam/sdk/transforms/PTransform.html#expand-InputT-">PTransform</a></code></span></div>
<div class="block">Override this method to specify how this <code>PTransform</code> should be expanded on the given
 <code>InputT</code>.

 <p>NOTE: This method should not be called directly. Instead apply the <code>PTransform</code> should
 be applied to the <code>InputT</code> using the <code>apply</code> method.

 <p>Composite transforms, which are defined in terms of other transforms, should return the
 output of one of the composed transforms. Non-composite transforms, which do not apply any
 transforms internally, should return a new unbound output and register evaluators (via
 backend-specific registration methods).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/beam/sdk/transforms/PTransform.html#expand-InputT-">expand</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/apache/beam/sdk/transforms/PTransform.html" title="class in org.apache.beam.sdk.transforms">PTransform</a>&lt;<a href="../../../../../../org/apache/beam/sdk/values/PCollection.html" title="class in org.apache.beam.sdk.values">PCollection</a>&lt;<a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.Document.html" title="class in org.apache.beam.sdk.io.elasticsearch">ElasticsearchIO.Document</a>&gt;,<a href="../../../../../../org/apache/beam/sdk/values/PCollectionTuple.html" title="class in org.apache.beam.sdk.values">PCollectionTuple</a>&gt;</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BoundedElasticsearchSource.html" title="class in org.apache.beam.sdk.io.elasticsearch"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.ConnectionConfiguration.html" title="class in org.apache.beam.sdk.io.elasticsearch"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/beam/sdk/io/elasticsearch/ElasticsearchIO.BulkIO.html" target="_top">Frames</a></li>
<li><a href="ElasticsearchIO.BulkIO.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.org.apache.beam.sdk.transforms.PTransform">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
