<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>MetadataTableAdminDao (Apache Beam 2.52.0)</title>
<link rel="stylesheet" type="text/css" href="../../../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MetadataTableAdminDao (Apache Beam 2.52.0)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/DaoFactory.html" title="class in org.apache.beam.sdk.io.gcp.bigtable.changestreams.dao"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableDao.html" title="class in org.apache.beam.sdk.io.gcp.bigtable.changestreams.dao"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../../../index.html?org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableAdminDao.html" target="_top">Frames</a></li>
<li><a href="MetadataTableAdminDao.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.beam.sdk.io.gcp.bigtable.changestreams.dao</div>
<h2 title="Class MetadataTableAdminDao" class="title">Class MetadataTableAdminDao</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.beam.sdk.io.gcp.bigtable.changestreams.dao.MetadataTableAdminDao</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="../../../../../../../../../org/apache/beam/sdk/annotations/Internal.html" title="annotation in org.apache.beam.sdk.annotations">@Internal</a>
public class <span class="typeNameLabel">MetadataTableAdminDao</span>
extends java.lang.Object</pre>
<div class="block">Data access object for creating and dropping the metadata table.

 <p>The metadata table will be used to keep the state of the entire Beam pipeline as well as
 splitting and merging partitions.

 <p>Each Beam pipeline will create its own metadata table.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableAdminDao.html#CF_CONTINUATION_TOKEN">CF_CONTINUATION_TOKEN</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableAdminDao.html#CF_INITIAL_TOKEN">CF_INITIAL_TOKEN</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableAdminDao.html#CF_LOCK">CF_LOCK</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableAdminDao.html#CF_MISSING_PARTITIONS">CF_MISSING_PARTITIONS</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableAdminDao.html#CF_PARENT_LOW_WATERMARKS">CF_PARENT_LOW_WATERMARKS</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableAdminDao.html#CF_PARENT_PARTITIONS">CF_PARENT_PARTITIONS</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableAdminDao.html#CF_SHOULD_DELETE">CF_SHOULD_DELETE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableAdminDao.html#CF_VERSION">CF_VERSION</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableAdminDao.html#CF_WATERMARK">CF_WATERMARK</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static org.apache.beam.vendor.guava.v32_1_2_jre.com.google.common.collect.ImmutableList&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableAdminDao.html#COLUMN_FAMILIES">COLUMN_FAMILIES</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableAdminDao.html#CURRENT_METADATA_TABLE_VERSION">CURRENT_METADATA_TABLE_VERSION</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableAdminDao.html#DEFAULT_METADATA_TABLE_NAME">DEFAULT_METADATA_TABLE_NAME</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static com.google.protobuf.ByteString</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableAdminDao.html#DETECT_NEW_PARTITION_SUFFIX">DETECT_NEW_PARTITION_SUFFIX</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static com.google.protobuf.ByteString</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableAdminDao.html#NEW_PARTITION_PREFIX">NEW_PARTITION_PREFIX</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableAdminDao.html#QUALIFIER_DEFAULT">QUALIFIER_DEFAULT</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static com.google.protobuf.ByteString</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableAdminDao.html#STREAM_PARTITION_PREFIX">STREAM_PARTITION_PREFIX</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableAdminDao.html#MetadataTableAdminDao-com.google.cloud.bigtable.admin.v2.BigtableTableAdminClient-com.google.cloud.bigtable.admin.v2.BigtableInstanceAdminClient-java.lang.String-java.lang.String-">MetadataTableAdminDao</a></span>(com.google.cloud.bigtable.admin.v2.BigtableTableAdminClient&nbsp;tableAdminClient,
                     com.google.cloud.bigtable.admin.v2.BigtableInstanceAdminClient&nbsp;instanceAdminClient,
                     java.lang.String&nbsp;changeStreamName,
                     java.lang.String&nbsp;tableId)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableAdminDao.html#cleanUpPrefix--">cleanUpPrefix</a></span>()</code>
<div class="block">Delete all the metadata rows starting with the change stream name prefix, except for detect new
 partition row because it signals the existence of a pipeline with the change stream name.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableAdminDao.html#createMetadataTable--">createMetadataTable</a></span>()</code>
<div class="block">Create the metadata table if it does not exist yet.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableAdminDao.html#doesMetadataTableExist--">doesMetadataTableExist</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>com.google.protobuf.ByteString</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableAdminDao.html#getChangeStreamNamePrefix--">getChangeStreamNamePrefix</a></span>()</code>
<div class="block">Return the prefix used to identify the rows belonging to this job.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableAdminDao.html#getTableId--">getTableId</a></span>()</code>
<div class="block">Return the metadata table name.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableAdminDao.html#isAppProfileSingleClusterAndTransactional-java.lang.String-">isAppProfileSingleClusterAndTransactional</a></span>(java.lang.String&nbsp;appProfileId)</code>
<div class="block">Verify the app profile is for single cluster routing with allow single-row transactions
 enabled.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="DEFAULT_METADATA_TABLE_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_METADATA_TABLE_NAME</h4>
<pre>public static final&nbsp;java.lang.String DEFAULT_METADATA_TABLE_NAME</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../../../constant-values.html#org.apache.beam.sdk.io.gcp.bigtable.changestreams.dao.MetadataTableAdminDao.DEFAULT_METADATA_TABLE_NAME">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CF_INITIAL_TOKEN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CF_INITIAL_TOKEN</h4>
<pre>public static final&nbsp;java.lang.String CF_INITIAL_TOKEN</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../../../constant-values.html#org.apache.beam.sdk.io.gcp.bigtable.changestreams.dao.MetadataTableAdminDao.CF_INITIAL_TOKEN">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CF_PARENT_PARTITIONS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CF_PARENT_PARTITIONS</h4>
<pre>public static final&nbsp;java.lang.String CF_PARENT_PARTITIONS</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../../../constant-values.html#org.apache.beam.sdk.io.gcp.bigtable.changestreams.dao.MetadataTableAdminDao.CF_PARENT_PARTITIONS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CF_PARENT_LOW_WATERMARKS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CF_PARENT_LOW_WATERMARKS</h4>
<pre>public static final&nbsp;java.lang.String CF_PARENT_LOW_WATERMARKS</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../../../constant-values.html#org.apache.beam.sdk.io.gcp.bigtable.changestreams.dao.MetadataTableAdminDao.CF_PARENT_LOW_WATERMARKS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CF_WATERMARK">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CF_WATERMARK</h4>
<pre>public static final&nbsp;java.lang.String CF_WATERMARK</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../../../constant-values.html#org.apache.beam.sdk.io.gcp.bigtable.changestreams.dao.MetadataTableAdminDao.CF_WATERMARK">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CF_CONTINUATION_TOKEN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CF_CONTINUATION_TOKEN</h4>
<pre>public static final&nbsp;java.lang.String CF_CONTINUATION_TOKEN</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../../../constant-values.html#org.apache.beam.sdk.io.gcp.bigtable.changestreams.dao.MetadataTableAdminDao.CF_CONTINUATION_TOKEN">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CF_LOCK">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CF_LOCK</h4>
<pre>public static final&nbsp;java.lang.String CF_LOCK</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../../../constant-values.html#org.apache.beam.sdk.io.gcp.bigtable.changestreams.dao.MetadataTableAdminDao.CF_LOCK">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CF_MISSING_PARTITIONS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CF_MISSING_PARTITIONS</h4>
<pre>public static final&nbsp;java.lang.String CF_MISSING_PARTITIONS</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../../../constant-values.html#org.apache.beam.sdk.io.gcp.bigtable.changestreams.dao.MetadataTableAdminDao.CF_MISSING_PARTITIONS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CF_VERSION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CF_VERSION</h4>
<pre>public static final&nbsp;java.lang.String CF_VERSION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../../../constant-values.html#org.apache.beam.sdk.io.gcp.bigtable.changestreams.dao.MetadataTableAdminDao.CF_VERSION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CF_SHOULD_DELETE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CF_SHOULD_DELETE</h4>
<pre>public static final&nbsp;java.lang.String CF_SHOULD_DELETE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../../../constant-values.html#org.apache.beam.sdk.io.gcp.bigtable.changestreams.dao.MetadataTableAdminDao.CF_SHOULD_DELETE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="QUALIFIER_DEFAULT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>QUALIFIER_DEFAULT</h4>
<pre>public static final&nbsp;java.lang.String QUALIFIER_DEFAULT</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../../../constant-values.html#org.apache.beam.sdk.io.gcp.bigtable.changestreams.dao.MetadataTableAdminDao.QUALIFIER_DEFAULT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="COLUMN_FAMILIES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>COLUMN_FAMILIES</h4>
<pre>public static final&nbsp;org.apache.beam.vendor.guava.v32_1_2_jre.com.google.common.collect.ImmutableList&lt;java.lang.String&gt; COLUMN_FAMILIES</pre>
</li>
</ul>
<a name="NEW_PARTITION_PREFIX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NEW_PARTITION_PREFIX</h4>
<pre>public static final&nbsp;com.google.protobuf.ByteString NEW_PARTITION_PREFIX</pre>
</li>
</ul>
<a name="STREAM_PARTITION_PREFIX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>STREAM_PARTITION_PREFIX</h4>
<pre>public static final&nbsp;com.google.protobuf.ByteString STREAM_PARTITION_PREFIX</pre>
</li>
</ul>
<a name="DETECT_NEW_PARTITION_SUFFIX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DETECT_NEW_PARTITION_SUFFIX</h4>
<pre>public static final&nbsp;com.google.protobuf.ByteString DETECT_NEW_PARTITION_SUFFIX</pre>
</li>
</ul>
<a name="CURRENT_METADATA_TABLE_VERSION">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CURRENT_METADATA_TABLE_VERSION</h4>
<pre>public static final&nbsp;int CURRENT_METADATA_TABLE_VERSION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../../../constant-values.html#org.apache.beam.sdk.io.gcp.bigtable.changestreams.dao.MetadataTableAdminDao.CURRENT_METADATA_TABLE_VERSION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MetadataTableAdminDao-com.google.cloud.bigtable.admin.v2.BigtableTableAdminClient-com.google.cloud.bigtable.admin.v2.BigtableInstanceAdminClient-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MetadataTableAdminDao</h4>
<pre>public&nbsp;MetadataTableAdminDao(com.google.cloud.bigtable.admin.v2.BigtableTableAdminClient&nbsp;tableAdminClient,
                             com.google.cloud.bigtable.admin.v2.BigtableInstanceAdminClient&nbsp;instanceAdminClient,
                             java.lang.String&nbsp;changeStreamName,
                             java.lang.String&nbsp;tableId)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getChangeStreamNamePrefix--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChangeStreamNamePrefix</h4>
<pre>public&nbsp;com.google.protobuf.ByteString&nbsp;getChangeStreamNamePrefix()</pre>
<div class="block">Return the prefix used to identify the rows belonging to this job.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the prefix used to identify the rows belonging to this job</dd>
</dl>
</li>
</ul>
<a name="getTableId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableId</h4>
<pre>public&nbsp;java.lang.String&nbsp;getTableId()</pre>
<div class="block">Return the metadata table name.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the metadata table name</dd>
</dl>
</li>
</ul>
<a name="isAppProfileSingleClusterAndTransactional-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAppProfileSingleClusterAndTransactional</h4>
<pre>public&nbsp;boolean&nbsp;isAppProfileSingleClusterAndTransactional(java.lang.String&nbsp;appProfileId)</pre>
<div class="block">Verify the app profile is for single cluster routing with allow single-row transactions
 enabled. For metadata data operations, the app profile needs to be single cluster routing
 because it requires read-after-write consistency. Also, the operations depend on single row
 transactions operations like CheckAndMutateRow.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the app profile is single-cluster and allows single-row transactions, otherwise
     false</dd>
</dl>
</li>
</ul>
<a name="doesMetadataTableExist--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doesMetadataTableExist</h4>
<pre>public&nbsp;boolean&nbsp;doesMetadataTableExist()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if metadata table exists, otherwise false.</dd>
</dl>
</li>
</ul>
<a name="createMetadataTable--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createMetadataTable</h4>
<pre>public&nbsp;boolean&nbsp;createMetadataTable()</pre>
<div class="block">Create the metadata table if it does not exist yet. If the table does exist, verify all the
 column families exists, if not add those column families. This table only need to be created
 once per instance. All change streams jobs will use this table. This table is created in the
 same instance as the table being streamed. While we don't restrict access to the table,
 manually editing the table can lead to inconsistent beam jobs.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the table was successfully created, otherwise false.</dd>
</dl>
</li>
</ul>
<a name="cleanUpPrefix--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>cleanUpPrefix</h4>
<pre>public&nbsp;void&nbsp;cleanUpPrefix()</pre>
<div class="block">Delete all the metadata rows starting with the change stream name prefix, except for detect new
 partition row because it signals the existence of a pipeline with the change stream name.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/DaoFactory.html" title="class in org.apache.beam.sdk.io.gcp.bigtable.changestreams.dao"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../../../org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableDao.html" title="class in org.apache.beam.sdk.io.gcp.bigtable.changestreams.dao"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../../../index.html?org/apache/beam/sdk/io/gcp/bigtable/changestreams/dao/MetadataTableAdminDao.html" target="_top">Frames</a></li>
<li><a href="MetadataTableAdminDao.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
