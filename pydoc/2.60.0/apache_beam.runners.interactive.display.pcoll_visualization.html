

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>apache_beam.runners.interactive.display.pcoll_visualization module &mdash; Apache Beam 2.60.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/documentation_options.js?v=1bc0be70"></script>
      <script src="_static/doctools.js?v=9a2dae69"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="apache_beam.runners.interactive.display.pipeline_graph module" href="apache_beam.runners.interactive.display.pipeline_graph.html" />
    <link rel="prev" title="apache_beam.runners.interactive.display.interactive_pipeline_graph module" href="apache_beam.runners.interactive.display.interactive_pipeline_graph.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Apache Beam
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="apache_beam.coders.html">apache_beam.coders package</a></li>
<li class="toctree-l1"><a class="reference internal" href="apache_beam.dataframe.html">apache_beam.dataframe package</a></li>
<li class="toctree-l1"><a class="reference internal" href="apache_beam.io.html">apache_beam.io package</a></li>
<li class="toctree-l1"><a class="reference internal" href="apache_beam.metrics.html">apache_beam.metrics package</a></li>
<li class="toctree-l1"><a class="reference internal" href="apache_beam.ml.html">apache_beam.ml package</a></li>
<li class="toctree-l1"><a class="reference internal" href="apache_beam.options.html">apache_beam.options package</a></li>
<li class="toctree-l1"><a class="reference internal" href="apache_beam.portability.html">apache_beam.portability package</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="apache_beam.runners.html">apache_beam.runners package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="apache_beam.runners.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="apache_beam.runners.dask.html">apache_beam.runners.dask package</a></li>
<li class="toctree-l3"><a class="reference internal" href="apache_beam.runners.dataflow.html">apache_beam.runners.dataflow package</a></li>
<li class="toctree-l3"><a class="reference internal" href="apache_beam.runners.direct.html">apache_beam.runners.direct package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="apache_beam.runners.interactive.html">apache_beam.runners.interactive package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="apache_beam.runners.interactive.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="apache_beam.runners.interactive.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="apache_beam.runners.job.html">apache_beam.runners.job package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="apache_beam.runners.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="apache_beam.testing.html">apache_beam.testing package</a></li>
<li class="toctree-l1"><a class="reference internal" href="apache_beam.transforms.html">apache_beam.transforms package</a></li>
<li class="toctree-l1"><a class="reference internal" href="apache_beam.typehints.html">apache_beam.typehints package</a></li>
<li class="toctree-l1"><a class="reference internal" href="apache_beam.utils.html">apache_beam.utils package</a></li>
<li class="toctree-l1"><a class="reference internal" href="apache_beam.yaml.html">apache_beam.yaml package</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="apache_beam.error.html">apache_beam.error module</a></li>
<li class="toctree-l1"><a class="reference internal" href="apache_beam.pipeline.html">apache_beam.pipeline module</a></li>
<li class="toctree-l1"><a class="reference internal" href="apache_beam.pvalue.html">apache_beam.pvalue module</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Apache Beam</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="apache_beam.runners.html">apache_beam.runners package</a></li>
          <li class="breadcrumb-item"><a href="apache_beam.runners.interactive.html">apache_beam.runners.interactive package</a></li>
          <li class="breadcrumb-item"><a href="apache_beam.runners.interactive.display.html">apache_beam.runners.interactive.display package</a></li>
      <li class="breadcrumb-item active">apache_beam.runners.interactive.display.pcoll_visualization module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/apache_beam.runners.interactive.display.pcoll_visualization.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-apache_beam.runners.interactive.display.pcoll_visualization">
<span id="apache-beam-runners-interactive-display-pcoll-visualization-module"></span><h1>apache_beam.runners.interactive.display.pcoll_visualization module<a class="headerlink" href="#module-apache_beam.runners.interactive.display.pcoll_visualization" title="Link to this heading">¶</a></h1>
<p>Module visualizes PCollection data.</p>
<p>For internal use only; no backwards-compatibility guarantees.
Only works with Python 3.5+.</p>
<dl class="py function">
<dt class="sig sig-object py" id="apache_beam.runners.interactive.display.pcoll_visualization.visualize">
<span class="sig-prename descclassname"><span class="pre">apache_beam.runners.interactive.display.pcoll_visualization.</span></span><span class="sig-name descname"><span class="pre">visualize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dynamic_plotting_interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_window_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_facets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/apache_beam/runners/interactive/display/pcoll_visualization.html#visualize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#apache_beam.runners.interactive.display.pcoll_visualization.visualize" title="Link to this definition">¶</a></dt>
<dd><p>Visualizes the data of a given PCollection. Optionally enables dynamic
plotting with interval in seconds if the PCollection is being produced by a
running pipeline or the pipeline is streaming indefinitely. The function
always returns immediately and is asynchronous when dynamic plotting is on.</p>
<p>If dynamic plotting enabled, the visualization is updated continuously until
the pipeline producing the PCollection is in an end state. The visualization
would be anchored to the notebook cell output area. The function
asynchronously returns a handle to the visualization job immediately. The user
could manually do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># In one notebook cell, enable dynamic plotting every 1 second:</span>
<span class="n">handle</span> <span class="o">=</span> <span class="n">visualize</span><span class="p">(</span><span class="n">pcoll</span><span class="p">,</span> <span class="n">dynamic_plotting_interval</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># Visualization anchored to the cell&#39;s output area.</span>
<span class="c1"># In a different cell:</span>
<span class="n">handle</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
<span class="c1"># Will stop the dynamic plotting of the above visualization manually.</span>
<span class="c1"># Otherwise, dynamic plotting ends when pipeline is not running anymore.</span>
</pre></div>
</div>
<p>If dynamic_plotting is not enabled (by default), None is returned.</p>
<p>If include_window_info is True, the data will include window information,
which consists of the event timestamps, windows, and pane info.</p>
<p>If display_facets is True, the facets widgets will be rendered. Otherwise, the
facets widgets will not be rendered.</p>
<p>The function is experimental. For internal use only; no
backwards-compatibility guarantees.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apache_beam.runners.interactive.display.pcoll_visualization.visualize_computed_pcoll">
<span class="sig-prename descclassname"><span class="pre">apache_beam.runners.interactive.display.pcoll_visualization.</span></span><span class="sig-name descname"><span class="pre">visualize_computed_pcoll</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pcoll_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">pcoll</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="apache_beam.pvalue.html#apache_beam.pvalue.PCollection" title="apache_beam.pvalue.PCollection"><span class="pre">PCollection</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_duration_secs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">dynamic_plotting_interval</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_window_info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_facets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/apache_beam/runners/interactive/display/pcoll_visualization.html#visualize_computed_pcoll"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#apache_beam.runners.interactive.display.pcoll_visualization.visualize_computed_pcoll" title="Link to this definition">¶</a></dt>
<dd><p>A simple visualize alternative.</p>
<p>When the pcoll_name and pcoll pair identifies a watched and computed
PCollection in the current interactive environment without ambiguity, an
ElementStream can be built directly from cache. Returns immediately, the
visualization is asynchronous, but guaranteed to end in the near future.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pcoll_name</strong> – the variable name of the PCollection.</p></li>
<li><p><strong>pcoll</strong> – the PCollection to be visualized.</p></li>
<li><p><strong>max_n</strong> – the maximum number of elements to visualize.</p></li>
<li><p><strong>max_duration_secs</strong> – max duration of elements to read in seconds.</p></li>
<li><p><strong>dynamic_plotting_interval</strong> – the interval in seconds between visualization
updates if provided; otherwise, no dynamic plotting.</p></li>
<li><p><strong>include_window_info</strong> – whether to include windowing info in the elements.</p></li>
<li><p><strong>display_facets</strong> – whether to display the facets widgets.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="apache_beam.runners.interactive.display.pcoll_visualization.PCollectionVisualization">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">apache_beam.runners.interactive.display.pcoll_visualization.</span></span><span class="sig-name descname"><span class="pre">PCollectionVisualization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_window_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_facets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/apache_beam/runners/interactive/display/pcoll_visualization.html#PCollectionVisualization"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#apache_beam.runners.interactive.display.pcoll_visualization.PCollectionVisualization" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A visualization of a PCollection.</p>
<p>The class relies on creating a PipelineInstrument w/o actual instrument to
access current interactive environment for materialized PCollection data at
the moment of self instantiation through cache.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apache_beam.runners.interactive.display.pcoll_visualization.PCollectionVisualization.display_plain_text">
<span class="sig-name descname"><span class="pre">display_plain_text</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/apache_beam/runners/interactive/display/pcoll_visualization.html#PCollectionVisualization.display_plain_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#apache_beam.runners.interactive.display.pcoll_visualization.PCollectionVisualization.display_plain_text" title="Link to this definition">¶</a></dt>
<dd><p>Displays a head sample of the normalized PCollection data.</p>
<p>This function is used when the ipython kernel is not connected to a
notebook frontend such as when running ipython in terminal or in unit tests.
It’s a visualization in terminal-like UI, not a function to retrieve data
for programmatically usages.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="apache_beam.runners.interactive.display.pcoll_visualization.PCollectionVisualization.display">
<span class="sig-name descname"><span class="pre">display</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">updating_pv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/apache_beam/runners/interactive/display/pcoll_visualization.html#PCollectionVisualization.display"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#apache_beam.runners.interactive.display.pcoll_visualization.PCollectionVisualization.display" title="Link to this definition">¶</a></dt>
<dd><p>Displays the visualization through IPython.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>updating_pv</strong> – A PCollectionVisualization object. When provided, the
display_id of each visualization part will inherit from the initial
display of updating_pv and only update that visualization web element
instead of creating new ones.</p>
</dd>
</dl>
<p>The visualization has 3 parts: facets-dive, facets-overview and paginated
data table. Each part is assigned an auto-generated unique display id
(the uniqueness is guaranteed throughout the lifespan of the PCollection
variable).</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apache_beam.runners.interactive.display.pcoll_visualization.format_window_info_in_dataframe">
<span class="sig-prename descclassname"><span class="pre">apache_beam.runners.interactive.display.pcoll_visualization.</span></span><span class="sig-name descname"><span class="pre">format_window_info_in_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/apache_beam/runners/interactive/display/pcoll_visualization.html#format_window_info_in_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#apache_beam.runners.interactive.display.pcoll_visualization.format_window_info_in_dataframe" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apache_beam.runners.interactive.display.pcoll_visualization.event_time_formatter">
<span class="sig-prename descclassname"><span class="pre">apache_beam.runners.interactive.display.pcoll_visualization.</span></span><span class="sig-name descname"><span class="pre">event_time_formatter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event_time_us</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/apache_beam/runners/interactive/display/pcoll_visualization.html#event_time_formatter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#apache_beam.runners.interactive.display.pcoll_visualization.event_time_formatter" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apache_beam.runners.interactive.display.pcoll_visualization.windows_formatter">
<span class="sig-prename descclassname"><span class="pre">apache_beam.runners.interactive.display.pcoll_visualization.</span></span><span class="sig-name descname"><span class="pre">windows_formatter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">windows</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/apache_beam/runners/interactive/display/pcoll_visualization.html#windows_formatter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#apache_beam.runners.interactive.display.pcoll_visualization.windows_formatter" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apache_beam.runners.interactive.display.pcoll_visualization.pane_info_formatter">
<span class="sig-prename descclassname"><span class="pre">apache_beam.runners.interactive.display.pcoll_visualization.</span></span><span class="sig-name descname"><span class="pre">pane_info_formatter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pane_info</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/apache_beam/runners/interactive/display/pcoll_visualization.html#pane_info_formatter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#apache_beam.runners.interactive.display.pcoll_visualization.pane_info_formatter" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="apache_beam.runners.interactive.display.interactive_pipeline_graph.html" class="btn btn-neutral float-left" title="apache_beam.runners.interactive.display.interactive_pipeline_graph module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="apache_beam.runners.interactive.display.pipeline_graph.html" class="btn btn-neutral float-right" title="apache_beam.runners.interactive.display.pipeline_graph module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>